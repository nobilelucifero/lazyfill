/*!
 * Lazyfill v0.1
 * A lazy way to handle responsive images
 * http://nobilelucifero.github.io/Lazyfill
 * MIT License
 * by Lucifero Von Nachtosphere
 */
;function Lazyfill(){this.mediaControl=$(".js-media");this.getPseudoProperty=function(el,context,property){var r=window.getComputedStyle(el,context).getPropertyValue(property).replace(/\"|\'/g,"");return r};this._getMediaCurrent=function(el){if(!el){el=this.mediaControl}var media=this.getPseudoProperty(el,":before","content");var isRetina=this.getPseudoProperty(el,":after","content");if(media===""||!media){media="default"}return media};this._source2src=function(els,media){var loop=function(){var changed=false;for(var i=0;i<els.length;i++){var el=els[i],sources=JSON.parse(el.getAttribute("data-sources"));src=sources[media];srcOld=el.getAttribute("src");if(!sources[media]){src=sources["default"]}if(srcOld==src){continue}changed=true;var alt=el.getAttribute("data-alt");if(!alt){alt=""}el.setAttribute("src",src);el.setAttribute("alt",alt)}return changed};if(loop()){console.groupCollapsed("[LazyFill]","Elements found:",els.length,"Media is:",media);console.table(els,["src","alt","className"]);console.groupEnd()}};this._calculate=function(){this._source2src($$(".js-lazyfill"),this._getMediaCurrent())};this.init=function(){console.info("[LazyFill] INIT");this._calculate();this._initOnResize()};this._initOnResize=function(){var that=this;window.addEventListener("resize",_.debounce(that._calculate.bind(that),1e3),false)}};